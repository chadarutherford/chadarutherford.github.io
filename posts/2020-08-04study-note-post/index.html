<!DOCTYPE html><html lang="en"><head><title>Chad Rutherford - iOS Developer with experience in Swift and Objective-C</title><meta name="twitter:title" content="Chad Rutherford - iOS Developer with experience in Swift and Objective-C"/><meta name="og:title" content="Chad Rutherford - iOS Developer with experience in Swift and Objective-C"/><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous"/><script src="https://kit.fontawesome.com/67788e6bc8.js" crossorigin="anonymous"></script><link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/grids-responsive-min.css"/><link rel="stylesheet" href="/Pure/styles.css"/><link rel="stylesheet" href="/all.css"/><link rel="shortcut icon" href="/images/favicon.png"/></head><body><div id="layout" class="pure-g"><div><div class="pure-menu pure-menu-horizontal pure-u-1-1 top-header"><a class="pure-menu-heading" href="/">Chad Rutherford - Portfolio</a><ul class="pure-menu-list"><li class="pure-menu-item"><a class="pure-menu-link" href="/projects">Projects</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/posts">Blog</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/about">About</a></li></ul></div></div><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><div id="layout" class="pure-g"><div class="author__avatar"><img src="https://avatars2.githubusercontent.com/u/16213161?s=400&u=e61da9f734de6454e61f4eff08eb913aa5e33be3&v=4"/></div><div class="pure-u-md-1-1 pure-u-3-4"><h1 class="brand-title">Chad Rutherford</h1><h3 class="brand-tagline">iOS Developer with experience in Swift and Objective-C</h3></div></div><div id="layout" class="pure-g"><div class="pure-u-md-1-1"><a href="https://en.wikipedia.org/wiki/Weirton,_West_Virginia"><i class="fas fa-map-marker-alt l-box social icon"></i><a class="social-media" href="https://en.wikipedia.org/wiki/Weirton,_West_Virginia">Weirton, WV USA</a></a></div><div class="pure-u-md-1-1"><a href="mailto:chad_rutherford@outlook.com"><i class="fas fa-envelope-open-text l-box social icon"></i><a class="social-media" href="mailto:chad_rutherford@outlook.com">Email</a></a></div><div class="pure-u-md-1-1"><a href="https://www.linkedin.com/in/chadarutherford"><i class="fa fa-linkedin l-box social icon"></i><a class="social-media" href="https://www.linkedin.com/in/chadarutherford">LinkedIn</a></a></div><div class="pure-u-md-1-1"><a href="https://github.com/chadarutherford"><i class="fa fa-github-square l-box social icon"></i><a class="social-media" href="https://github.com/chadarutherford">GitHub</a></a></div><div class="pure-u-md-1-1"><a href="https://twitter.com/chadiosdev"><i class="fa fa-twitter-square l-box social icon"></i><a class="social-media" href="https://twitter.com/chadiosdev">Twitter</a></a></div></div></div></div><div class="content pure-u-1 pure-u-md-3-5 pure-u-xl-6-10"><h2 class="post-title"><a href="/posts/2020-08-04study-note-post">Creating A Study Note App</a></h2><p class="post-meta">August 4, 2020</p><div class="post-tags"><a class="post-category post-category-blog" href="/tags/blog">Blog</a><a class="post-category post-category-swift" href="/tags/swift">Swift</a><a class="post-category post-category-programmatic ui" href="/tags/programmatic-ui">Programmatic UI</a><a class="post-category post-category-education" href="/tags/education">Education</a></div><div class="post-description"><div><h2>Creating a Study Note App</h2><hr><p>For this app, I decided to take a popular app and put my spin on it. My fiancée is going back to nursing school and I decided it would be easy to make an application for her to carry her flash cards AKA study notes with her. So I set out building this app.</p><p>To start off, I implemented the entire app's UI programmatically. So I dove into the Scene Delegate and set up the following inside <code></code><code>scene(_ : willConnectTo: options:)</code><code></code>:</p><pre><code><span class="keyword">guard let</span> windowScene = scene <span class="keyword">as</span>? <span class="type">UIWindowScene</span> <span class="keyword">else</span> { <span class="keyword">return</span> }
window = <span class="type">UIWindow</span>(windowScene: windowScene)
window?.<span class="property">windowScene</span> = windowScene
<span class="keyword">let</span> loginVC = <span class="type">LoginViewController</span>(nibName: <span class="keyword">nil</span>, bundle: <span class="keyword">nil</span>)
window?.<span class="property">rootViewController</span> = <span class="type">UINavigationController</span>(rootViewController: loginVC)
window?.<span class="call">makeKeyAndVisible</span>()
</code></pre><p>I got rid of the parentheses around <code></code><code>scene as? UIWindowScene</code><code></code> as I was now going to use the scene itself. I then instantiated the window, passing in the windowScene as it's only parameter, and set the window's windowScene property to the unwrapped windowScene. I then created an instance of my (poorly named) LoginViewController, setting nibName and bundle to nil, as I wasn't using XIBs or the Storyboard. I then set the rootViewController of the window to a UINavigationController, and set the rootViewController for that to my loginVC. Then calling <code></code><code>.makeKeyAndVisible()</code><code></code> on the window, makes the window come on screen.</p><p>I then set up my CoreData model and entities. I made a Note class that has an answer and an NSOrderedSet of clues. Then I set up a Clue class that has a text property and a relationship to the Note class. I set up extensions to the classes to create convenience initializers and a CoreDataStack singleton to handle ease of use across my app.</p><p>I then got to work on my main ViewController. I created view objects as closures for all UI elements and I'm configuring the UI inside a helper method, that I then call in <code></code><code>viewDidLoad()</code><code></code>. When the view loads, I'm performing a fetch from CoreData and populating the view for testing.</p><img src="/images/posts/StudyNotes/StudyModeView.png" alt="StudyModeView" width="500"/><p>The UI was set up. Next I enabled the ability to add Cards, Taking in the note selected and unwrapping the text from the textFields in AddCardViewController. Once they were set up, I created an OrderedSet of the clues, saved it to the Note, and made a call to <code></code><code>save()</code><code></code> on my CoreDataStacks main view context, saving them to device.</p><p>Now I had basic working creation and reading of Cards. I added a CategoryTableViewController to the project and Category entity to CoreData with a title, and an NSOrderedSet of Note(s), and started building the functionality to add categories to the app. I populated the app with seed data at first, and then went to work on the UI. The cells were populating but I spent a lot of time trying to get that "just right" look. I was setting up a plain UIView and adding a gradient and then trying to constrain it. It took me a good hour and a half before I reached out for help, but after a short conversation, thanks to Dillon McElhinney, I discovered there's a better way to handle that with a <code></code><code>GradientView</code><code></code>. Once my UI was set up the way I liked it, I enabled users to add categories via a modal pop up view controller.</p><img src="/images/posts/StudyNotes/addCategoryPopup.png" alt="Category popup" width="500"/><p>After I was able to create categories, the next natural progression, was to add cards to that category. This is where I hit another bump in the road. I followed my instincts and set up an array of Notes, and tried to add it to the category. iOS was not happy about that change at all, and upon trying to save cards, the app came crashing down. After a short search, I found the answer to my troubles on SO. and this is what I came up with as a solution:</p><pre><code><span class="keyword">guard let</span> category = category <span class="keyword">else</span> { <span class="keyword">return</span> }
		<span class="keyword">let</span> mutableNotes = category.<span class="property">notes</span>?.<span class="call">mutableCopy</span>() <span class="keyword">as</span>! <span class="type">NSMutableOrderedSet</span>
		<span class="keyword">let</span> note = <span class="type">Note</span>(answer: answer, clues: <span class="type">NSOrderedSet</span>(array: clues))!
		mutableNotes.<span class="call">add</span>(note)
		category.<span class="property">notes</span> = (mutableNotes.<span class="call">copy</span>() <span class="keyword">as</span>! <span class="type">NSOrderedSet</span>)
</code></pre><p>This allowed me to add cards to categories, but I wasn't happy with the UI. If the user typed text that was longer than the textField, it followed the cursor and you weren't able to see the entire text you entered. So after some thought, I conformed to UITextFieldDelegate and called the <code></code><code>textFieldShouldBeginEditing(_ :) </code><code></code> method and inside there presented another modal popup view containing only a UITextView and a save and cancel button, along with the textField that presented the view controller.</p><img src="/images/posts/StudyNotes/clueTextViewPopup2.png" alt="Clue TextView popup" width="500"/><p>Now inside TextViewPopoverViewController I created a TextViewPopoverDelegate and laid out the framework:</p><pre><code><span class="keyword">protocol</span> TextViewPopoverDelegate: <span class="type">AnyObject</span> {
	<span class="keyword">func</span> textViewDidSave(text: <span class="type">String</span>, into textField: <span class="type">UITextField</span>)
}
</code></pre><p>I set a <code></code><code>weak var delegate: TextViewPopoverDelegate?</code><code></code> property on my popover and now, once a user clicks on the save button, the delegate fires, and dismisses back to the AddCardVC and fills in the text on the TextField.<br> After all my work, I now have a complete version 1 to add to the AppStore and TestFlight. Here is a GIF of my progress: <img src="/images/posts/StudyNotes/StudyNotes.gif" alt="StudyNotes gif" width="500"/></p><p><a href="https://testflight.apple.com/join/UOpOJWhq">Link to TestFlight</a></p></div></div></div><div class="footer pure-u-1"><div class="pure-u-1">© 2020 Chad Rutherford</div><div class="pure-u-1">Generated using <a href="https://github.com/johnsundell/publish">Publish</a>. Written in Swift</div></div></div></body></html>